
---

## نمای کلی پروژه

این پروژه یک محیط صنعتی را شبیه‌سازی می‌کند که در آن پارامترهای مختلف گاز و مکانیکی تولید می‌شود تا مدل‌هایی برای پیش‌بینی خرابی کمپرسورها و بلبرینگ‌ها در یک سیستم گاز آموزش داده شوند. کد به دو بخش اصلی تقسیم شده است: تولید داده و آموزش مدل.

### تولید داده

تابع تولید داده، `generate_realistic_industrial_data`، داده‌های مصنوعی را برای شبیه‌سازی اندازه‌گیری‌ها از یک سیستم گاز ایجاد می‌کند.

#### مؤلفه‌های کلیدی:

- **ایجاد زمان‌بندی**: یک ایندکس زمان‌بندی ایجاد می‌کند که از اول ژانویه ۲۰۲۳ شروع می‌شود و با تعداد رکوردهای مشخص شده (`n_records`) با فواصل یک دقیقه‌ای ادامه دارد.
  
- **تولید ویژگی‌های واقعی**:
  - **ورودی‌ها**:
    - `P_in`: فشار ورودی که از توزیع نرمال نمونه‌برداری شده و محدود به محدوده‌های واقعی می‌شود.
    - `T_in`: دمای ورودی که به‌طور مشابه نرمال شده است.
    - `Flow_in` و `Flow_out`: نرخ‌های جریان ورودی و خروجی که به‌طور مصنوعی با توزیع نرمال شبیه‌سازی می‌شوند تا تنوع‌های عملیاتی واقعی را شبیه‌سازی کنند.
    - **متغیرهای اضافی**: شامل لرزش، گشتاور، RPM، سطح صدا، ویسکوزیته و غلظت مولی که همگی داده‌های عملیاتی واقع‌گرایانه‌ای را ایجاد می‌کنند.
  
- **مهندسی ویژگی**: ویژگی‌های پیشرفته از متغیرهای اولیه ایجاد می‌شود:
  - `Pressure_flow_ratio`، `Energy_index` و `Viscosity_temperature` بینش‌هایی درباره عملکرد سیستم ارائه می‌دهند.
  - ویژگی‌های متکی بر زمان مانند `Vibration_ma_1h` و `Torque_ma_30min` متوسط متحرک را برای یک زمان معین ایجاد می‌کند تا بتوان روندها را تحلیل کرد.
  
- **محاسبات توان نظری و واقعی**: با استفاده از معادلات ترمودینامیکی، توان نظری محاسبه می‌شود و توان واقعی با اعمال فرمول کارایی که به چندین متغیر عملیاتی (مانند لرزش و ویسکوزیته) بستگی دارد، محاسبه می‌شود.

- **محاسبه شاخص سلامت**: یک نمره تجمیعی است که از چندین معیار عملیاتی برای نشان دادن وضعیت قطعات سیستم استخراج می‌شود.

- **تولید برچسب‌های خرابی**: با استفاده از یک مدل ریسک تعریف‌شده، برچسب‌هایی برای هر دو خرابی کمپرسور و بلبرینگ با توجه به ترکیب متغیرهای محاسبه‌شده ایجاد می‌شود.

### نمونه استفاده:
```python
industrial_data = generate_realistic_industrial_data()
print(industrial_data.head())
```

### آموزش مدل

بخش دوم پروژه شامل آماده‌سازی داده‌های تولید شده و آموزش مدل‌های یادگیری ماشین برای طبقه‌بندی خرابی‌های احتمالی در کمپرسورها و بلبرینگ‌ها است.

#### مؤلفه‌های کلیدی:

- **آماده‌سازی داده**:
  - داده‌های تولید شده به ویژگی‌ها (`X`) و برچسب‌ها (`y_compressor` و `y_bearing`) برای پیش‌بینی‌های مربوطه تقسیم می‌شود.
  - داده به مجموعه‌های آموزشی و آزمایشی تقسیم می‌شود با استفاده از `train_test_split`.

- **مقیاس‌گذاری ویژگی‌ها**: تمامی ویژگی‌ها استاندارد می‌شوند تا دقت و عملکرد مدل بهبود یابد.

- **ساخت مدل**:
  - **مدل خرابی کمپرسور**: یک شبکه عصبی ترتیبی با لایه‌هایی شامل Dense، BatchNormalization و Dropout برای منظم‌سازی ایجاد می‌شود. این مدل پیش‌بینی می‌کند که آیا یک کمپرسور دچار خرابی خواهد شد.
  
  ```python
  def build_compressor_model(input_shape):
      ...
  ```

  - **مدل خرابی بلبرینگ**: مشابه مدل کمپرسور است اما با تفاوت‌های جزئی در معماری و پیکربندی آموزشی.
  
  ```python
  def build_bearing_model(input_shape):
      ...
  ```

- **آموزش مدل**: هر دو مدل به‌طور جداگانه آموزش داده می‌شوند و از متد زیان باینری برای طبقه‌بندی و توقف زودهنگام برای جلوگیری از اضافه تطابق استفاده می‌شود.

- **ارزیابی مدل**:
  - توابع ارزیابی مقادیر مختلف عملکرد از جمله دقت، دقت مثبت و یادآوری را محاسبه کرده و نتایج را از طریق ماتریس‌های گیج و منحنی‌های ROC تجسم می‌کنند.
  
```python
def evaluate_classification(model, X_test, y_test, model_name):
    ...
```

### نمونه استفاده برای آموزش و ارزیابی مدل:
```python
X_train, X_test, yc_train, yc_test, yb_train, yb_test = train_test_split(
    X, y_compressor, y_bearing, test_size=0.3, random_state=42
)

compressor_model = build_compressor_model(X_train_scaled.shape[1])
history_compressor = compressor_model.fit(X_train_scaled, yc_train, ...)

evaluate_classification(compressor_model, X_test_scaled, yc_test, "Compressor Failure")
```

### نتیجه‌گیری

این کد یک پایه برای شبیه‌سازی داده‌های صنعتی و آموزش شبکه‌های عصبی برای پیش‌بینی نگهداری در سیستم‌های گاز فراهم می‌کند. کاربران می‌توانند پارامترها را در تابع تولید داده یا معماری‌های مدل تغییر دهند تا موارد استفاده خاصی را سازگار کنند. ترکیب تولید داده‌های واقع‌گرایانه و تکنیک‌های robust آموزش مدل، تجزیه و تحلیل پیشرفته‌ای را در عملیات صنعتی فراهم می‌کند.

### مجوز

این پروژه تحت مجوز MIT مجاز است. برای جزئیات بیشتر به فایل LICENSE مراجعه کنید.

---

شما می‌توانید بر اساس هر مورد خاص یا جزئیات اضافی که در هنگام آماده‌سازی پروژه‌تان برای گیت‌هاب خواهید داشت، این مستندات را بیشتر گسترش دهید. این نمای کلی بخش‌های کلیدی کد شما را معرفی می‌کند و توضیح می‌دهد که هر بخش چه کاری انجام می‌دهد و چگونه می‌توان از آن استفاده کرد، که به دیگران (یا خود شما در آینده) کمک می‌کند تا بهتر بفهمند و بر اساس کار شما ساختار بندی کنند.
